<div class="px-6 mx-auto">
  <div class="flex items-center justify-between mb-6">
    <div class="flex flex-col space-y-2">
      <h1 class="text-3xl font-bold leading-6 text-white font-nimbus-ext">Cadenas</h1>
      <% if current_user.is_admin %>
        <p class="super_admin">
          Super Admin
        </p>
      <% end %>
    </div>
    <div class="flex">
      <%= link_to 'Crear', new_cadena_path, class: "btn-primary text-white py-3 px-4" %>
    </div>
  </div>
  <div class="relative mb-12 overflow-x-auto border rounded-lg shadow-md border-steel_gray">
    <table class="w-full text-sm text-left font-manrope">
      <thead class="text-xs text-gray-200 uppercase bg-steel_gray">
        <tr>
          <th scope="col" class="px-6 py-4">ID</th>
          <th scope="col" class="px-6 py-4"><%= t('cadena.name') %></th>
          <th scope="col" class="flex justify-center px-6 py-4">
            <%= inline_svg_tag 'svg/users.svg', class:'w-4' %>
          </th>
          <th scope="col" class="px-6 py-4"><%= t('cadena.state') %></th>
          <th scope="col" class="px-6 py-4"><%= t('cadena.installments_min') %></th>
          <th scope="col" class="px-6 py-4"><%= t('cadena.installment_value_min') %></th>
          <th scope="col" class="px-6 py-4"><%= t('cadena.saving_goal') %></th>
          <th scope="col" class="px-6 py-4"><%= t('cadena.start_date') %></th>
          <th scope="col" class="px-6 py-4"><%= t('cadena.end_date') %></th>
          <th scope="col" class="px-6 py-4"><%= t('cadena.created_at') %></th>
        </tr>
      </thead>
      <tbody>
        <% @cadenas.each do |cadena| %>
          <tr class="text-white odd:bg-transparent even:bg-gray-600/10">
            <td class="px-6 py-4 font-light"><%= cadena.id %></td>
            <td class="px-6 py-4 font-medium whitespace-nowrap">
              <%= link_to cadena, class:'hover:underline truncate' do %><%= cadena.name.truncate(14) %><% end %>
            </td>
            <td class="px-6 py-4 font-light text-center"><%= cadena.participations.count %>/<%= cadena.desired_installments %></td>
            <td class="px-6 py-4 <%= cadena.status_color %>"><%= t("cadena.status.#{cadena.status}") %></td>
            <td class="px-6 py-4 font-light"><%= cadena.installments.count %></td>
            <td class="px-6 py-4 font-light"><%= number_to_currency(cadena.installment_value, precision: 0, unit: '') %></td>
            <td class="px-6 py-4 font-light"><%= number_to_currency(cadena.saving_goal, precision: 0, unit:'') %></td>
            <td class="px-6 py-4 font-light"><%= cadena.start_date.strftime('%d/%m/%y') %></td>
            <td class="px-6 py-4 font-light"><%= cadena.end_date.strftime('%d/%m/%y') %></td>
            <td class="px-6 py-4 font-light"><%= cadena.created_at.strftime('%d/%m/%y - %H:%M') %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
